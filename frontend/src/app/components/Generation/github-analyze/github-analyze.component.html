<div class="github-analyze-container">
  <div class="header-section">
    <h2 class="title">GitHub to Resume</h2>
    <p class="subtitle">Преобразите свой GitHub репозиторий в профессиональное описание проекта за 60 секунд</p>
  </div>

  <div class="form-container" [formGroup]="analyzeForm">
    <div class="form-group">
      <label for="repoUrl" class="form-label">Ссылка на GitHub репозиторий</label>
      <input
        id="repoUrl"
        type="url"
        pInputText
        formControlName="repoUrl"
        placeholder="https://github.com/username/repository"
        [class.ng-invalid]="repoUrl?.invalid && repoUrl?.touched"
        class="form-input"
      />
      <small
        class="error-message"
        *ngIf="repoUrl?.invalid && repoUrl?.touched"
      >
        Введите корректную ссылку на GitHub репозиторий
      </small>
    </div>

    <div class="button-group">
      <p-button
        label="Анализировать репозиторий"
        icon="pi pi-github"
        [loading]="isAnalyzing"
        [disabled]="analyzeForm.invalid"
        (onClick)="onSubmit()"
        styleClass="min-w-[200px]"
      ></p-button>

      <p-button
        label="Очистить"
        icon="pi pi-refresh"
        severity="secondary"
        (onClick)="reset()"
        styleClass="min-w-[120px]"
      ></p-button>
    </div>
  </div>

  <div class="result-container" *ngIf="showResult && analysisResult">
    <div class="result-header">
      <h3 class="result-title">Результат анализа</h3>
      <div class="repo-info">
        <i class="pi pi-github"></i>
        <span>{{ analysisResult.repoInfo.owner }}/{{ analysisResult.repoInfo.name }}</span>
      </div>
    </div>

    <div class="generated-content">
      <div class="content-box">
        <pre class="content-pre">{{ analysisResult.content }}</pre>
      </div>

      <div class="action-buttons">
        <p-button
          label="Добавить в профиль"
          icon="pi pi-plus"
          severity="success"
          (onClick)="addToProfile()"
          styleClass="min-w-[160px]"
        ></p-button>

        <p-button
          label="Создать полное резюме"
          icon="pi pi-file"
          severity="info"
          (onClick)="createFullResume()"
          styleClass="min-w-[160px]"
        ></p-button>

        <p-button
          label="Сгенерировать заново"
          icon="pi pi-refresh"
          severity="secondary"
          (onClick)="regenerate()"
          styleClass="min-w-[160px]"
        ></p-button>
      </div>
    </div>
  </div>

  <div class="info-grid" *ngIf="!showResult">
    <div class="info-card">
      <h4 class="card-title">Как это работает?</h4>
      <ul class="feature-list">
        <li class="feature-item"><i class="pi pi-check"></i> Анализируем README.md и конфигурационные файлы</li>
        <li class="feature-item"><i class="pi pi-check"></i> Определяем используемые технологии</li>
        <li class="feature-item"><i class="pi pi-check"></i> Генерируем профессиональное описание с достижениями</li>
        <li class="feature-item"><i class="pi pi-check"></i> Преобразуем технические детали в бизнес-ценность</li>
      </ul>
    </div>

    <div class="info-card">
      <h4 class="card-title">Примеры использования</h4>
      <div class="examples">
        <div class="example-item">
          <strong class="example-title">Веб-приложение:</strong><br>
          "Разработал полнофункциональное веб-приложение с использованием React и Node.js"
        </div>
        <div class="example-item">
          <strong class="example-title">API сервис:</strong><br>
          "Спроектировал и реализовал REST API для обработки 10k+ запросов в минуту"
        </div>
      </div>
    </div>
  </div>
</div>